package com.shinhan.firstzone.repository3;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import com.shinhan.firstzone.vo3.FreeBoardEntity;
import com.shinhan.firstzone.vo3.FreeReplyEntity;

//댓글
public interface FreeReplyRepository extends JpaRepository<FreeReplyEntity, Long>{
	
	List<FreeReplyEntity> findByBoard(FreeBoardEntity board2);
	//join
	@Query("select b from #{#entityName} b join b.replies ")
	List<FreeBoardEntity> findAllWithReplyUsingJoin();
	//joinfetch
	@Query("select b from #{#entityName} b join fetch b.replies ")
	List<FreeBoardEntity> findAllWithReplyUsingJoinFetch();
	
	//board번호로 댓글 조회
	List<FreeReplyEntity> findByBoard(FreeBoardEntity board2);
}
