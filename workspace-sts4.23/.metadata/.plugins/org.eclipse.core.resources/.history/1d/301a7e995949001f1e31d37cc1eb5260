package com.shinhan.firstzone.repository;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import com.shinhan.firstzone.vo2.PDSBoardEntity;

//Board
public interface PDSBoardRepository extends JpaRepository<PDSBoardEntity, Long>{
	
	//1.기본 CRUD함수 제공된다.
	//2.규칙에 맞는 함수 정의
	List<PDSBoardEntity> findByWriter(String writer);
	
	@Query("select b.pname, b.writer, f.pdsfilename"
			+ " from #{#entityName} b left outer join b.files f " //연관관계가 있으면 ON생략가능
			+ " where b.pid = ?1 order by b.pid ")
	public List<Object[]> getFilesInfo2(long pid);
}
